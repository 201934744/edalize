#Auto generated by Edalize

TARGET={{ name }}
PCF_FILE={{ pcf_file }}
PNR={{ pnr }}
ARACHNE_PNR_OPTIONS="{{ arachne_pnr_options|join(' ') }}"
NEXTPNR_OPTIONS="{{ nextpnr_options|join(' ') }}"

yosys -l yosys.log -q -s $TARGET.ys
nextpnr-ice40 -l next.log -q $NEXTPNR_OPTIONS --pcf $PCF_FILE --json $TARGET.json --asc ${TARGET}_next.asc
icepack ${TARGET}_$PNR.asc $TARGET.bin

